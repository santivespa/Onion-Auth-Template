<form [formGroup]="form" class="mt-3 d-flex flex-column" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <input [type]="showPasswords ? 'text' : 'password'" formControlName="currentPassword" placeholder="Current Password">
            <div class="input-error" *ngIf="form.get('currentPassword')?.hasError('required') && form.get('currentPassword')?.touched">
                Current password is required.
            </div>
            <div class="input-error" *ngIf="form.get('currentPassword')?.hasError('minlength') && form.get('currentPassword')?.touched">
                Current password must be at least 4 characters.
            </div>
            <div class="input-error" *ngIf="form.get('currentPassword')?.hasError('maxlength') && form.get('currentPassword')?.touched">
                Current password cannot be more than 40 characters.
            </div>
        </div>
        <div class="mb-3">
            <input [type]="showPasswords ? 'text' : 'password'" formControlName="newPassword" placeholder="New Password">
            <div class="input-error" *ngIf="form.get('newPassword')?.hasError('required') && form.get('newPassword')?.touched">
                New password is required.
            </div>
            <div class="input-error" *ngIf="form.get('newPassword')?.hasError('minlength') && form.get('newPassword')?.touched">
                New password must be at least 4 characters.
            </div>
            <div class="input-error" *ngIf="form.get('newPassword')?.hasError('maxlength') && form.get('newPassword')?.touched">
                New password cannot be more than 40 characters.
            </div>
        </div>
        <div class="mb-3">
            <input [type]="showPasswords ? 'text' : 'password'" formControlName="newPasswordConfirmation" placeholder="Confirm New Password">
            <div class="input-error" *ngIf="form.errors?.['passwordMismatch'] && form.get('newPasswordConfirmation')?.touched">
                Passwords do not match.
            </div>
        </div>

        <div  class="form-check c-form-group mb-3">
            <input class="form-check-input c-checkbox" type="checkbox" (change)="toggleShowPasswords()" id="showPasswords">
            <label class="form-check-label c-checkbox-label" for="showPasswords">
                Show Passwords
            </label>
        </div>


        <button matRipple type="submit" class="mb btn-blue" [disabled]="loading() || !form.valid">Save Password</button>
    </form>